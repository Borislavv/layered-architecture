<mxfile host="app.diagrams.net" modified="2023-03-29T12:43:20.701Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36" etag="T_zKsO-lpWNzkw8-sKDg" version="21.1.1" type="device">
  <diagram name="Страница 1" id="oa3zlDcYPqrvOm_lJ56Q">
    <mxGraphModel dx="6980" dy="4413" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-187" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1313" y="1733" width="198" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-185" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1110" y="1733" width="198" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-152" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1113" y="1466" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-153" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Array/Map/JSON&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1121" y="1574" width="182" height="18" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-150" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1312" y="1466" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-122" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1312" y="1410" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.483;entryY=0.075;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-115" target="ASpnVdTM-ZzIxTWut1nu-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-115" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1302" y="1212" width="210" height="128" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1216" y="1340.0000000000002" as="sourcePoint" />
            <mxPoint x="1216" y="1410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-113" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1112" y="1212" width="200" height="128" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-111" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="450" y="1080" width="380" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-108" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="40" y="530" width="290" height="328" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-101" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-629" y="236" width="520" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-96" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1308" y="1140" width="204" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-95" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1112" y="1140" width="200" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-93" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="450" y="890" width="380" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-34" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1302" y="1172" width="210" height="139" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-35" value="&lt;h1&gt;&lt;span style=&quot;background-color: initial; font-size: 21px;&quot;&gt;Gateway&lt;/span&gt;&lt;br&gt;&lt;/h1&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;Инфраструктурный слой.&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Общение по сети&lt;/b&gt;: получение и сохранение данных в удаленной системе, другое межсервисное взаимодействие.&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1316" y="1171" width="198" height="136" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.184;entryY=-0.001;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="ASpnVdTM-ZzIxTWut1nu-93">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="330" y="800" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="520" y="800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-12" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="79" y="740" width="210" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-14" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="635" width="210" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="800" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-70" y="540" />
              <mxPoint x="-70" y="800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-71" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-629" y="464" width="520" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-66">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="695" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-40" y="450" />
              <mxPoint x="-40" y="695" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-66" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-629" y="360" width="520" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-31" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1112" y="1171" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.998;exitY=0.167;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-108" target="ASpnVdTM-ZzIxTWut1nu-93">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="710" y="891" as="targetPoint" />
            <Array as="points">
              <mxPoint x="710" y="585" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-7" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="530" width="210" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-11" value="&lt;h1 style=&quot;font-size: 19px;&quot;&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Controller&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;&quot;&gt;&lt;b&gt;Транспортный слой.&lt;br&gt;&lt;/b&gt;&lt;br&gt;Входящая точка в приложение попротоколу &lt;b&gt;HTTP&lt;/b&gt;.&amp;nbsp;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="89" y="537" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-13" value="&lt;h1&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Command&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;Транспортный слой.&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Входящая точка в приложение через &lt;b&gt;CLI&lt;/b&gt; интерфейс.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="88" y="750" width="190" height="108" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="330" y="699" as="sourcePoint" />
            <mxPoint x="610" y="890" as="targetPoint" />
            <Array as="points">
              <mxPoint x="610" y="699" />
              <mxPoint x="610" y="890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-15" value="&lt;h1 style=&quot;font-size: 19px;&quot;&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Consumer/Handler&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;border-color: var(--border-color);&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Транспортный слой.&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;div style=&quot;&quot;&gt;Входящая точка в приложение через брокер очередей, зачастую, через &lt;b&gt;AMQP&lt;/b&gt; протокол.&amp;nbsp;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="87" y="644" width="203" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-21" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="920" width="380" height="260" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-22" value="&lt;h1&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Repository&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;b&gt;Инфраструктурный слой.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Общение с хранилищем&lt;/b&gt;: получение и сохранение состояния данных.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1122" y="1170" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.451;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.424;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1406.004" y="1140" as="targetPoint" />
            <mxPoint x="835" y="1030" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1406" y="1030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.55;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.999;exitY=0.516;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="825" y="1055" as="sourcePoint" />
            <mxPoint x="1217" y="1140" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1217" y="1054" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="ASpnVdTM-ZzIxTWut1nu-162">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="1080" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1021" y="1080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-28" value="&lt;h1&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Service&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;b&gt;Сервисный слой.&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Так же может называться &lt;b&gt;usecase&lt;/b&gt;, &lt;b&gt;interactor&lt;/b&gt; или &lt;b&gt;application&lt;/b&gt;.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; 1. &lt;b&gt;Mapping/building&lt;/b&gt; целевой сущнсти/аггрегата.&lt;/p&gt;&lt;p&gt;&amp;nbsp; 2. &lt;b&gt;Валидация&lt;/b&gt;/проверка по &lt;b&gt;спецификации&lt;/b&gt;.&lt;/p&gt;&lt;p&gt;&amp;nbsp; 3. Безнес &lt;b&gt;действия&lt;/b&gt; на целевой &lt;b&gt;сущностью/аггрегатом&lt;/b&gt;.&lt;/p&gt;&lt;p&gt;&amp;nbsp; 4. Применение некого состояния по &lt;b&gt;workflow&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;(transitions)&lt;/b&gt;.&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="459" y="930" width="370" height="250" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-62" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-629" y="278" width="520" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-63">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="585" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-10" y="345" />
              <mxPoint x="-10" y="585" />
              <mxPoint x="38" y="585" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-63" value="&lt;h1&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;DTO&lt;/font&gt;&lt;font style=&quot;font-size: 17px;&quot;&gt;: Request, UserDto, FilterDto, ...&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;b style=&quot;border-color: var(--border-color); text-align: center;&quot;&gt;DTO&lt;/b&gt;&amp;nbsp;- нетипизированный контейер, для возможности провести валидацию на этапе обработки в сервисе и избежать ошибок десерриализации (пример:&amp;nbsp;&lt;b style=&quot;border-color: var(--border-color); text-align: center;&quot;&gt;ArgumentResolver&lt;/b&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&amp;nbsp;при внедрении зависимостей в&amp;nbsp;&lt;/span&gt;&lt;b style=&quot;border-color: var(--border-color); text-align: center;&quot;&gt;Controller&lt;/b&gt;&lt;span style=&quot;text-align: center;&quot;&gt;).&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-603" y="280" width="493" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-50" value="Явлается портом нашего приложения на самом верхнем уровне." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-630" y="349" width="465" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-68" value="&lt;h1&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Message&lt;/font&gt;&lt;font style=&quot;font-size: 17px;&quot;&gt;: UserMessage, OrderMessage, ...&lt;/font&gt;&lt;/span&gt;&lt;/h1&gt;&lt;div&gt;&lt;b style=&quot;border-color: var(--border-color); text-align: center;&quot;&gt;Message&lt;/b&gt;&amp;nbsp;- типизированный контейнер, однако, непреемлемо сериализовать сложные объекты, они должны быть&lt;span style=&quot;text-align: center;&quot;&gt;&amp;nbsp;представленны в виде скаляров, ссылок на идентификатор обеъекта.&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 16px;&quot;&gt;&lt;font style=&quot;font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-602" y="406" width="480" height="104" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-72" value="&lt;h1&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;Input: &lt;/span&gt;&lt;font style=&quot;font-size: 17px;&quot;&gt;arguments&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;b&gt;Input&lt;/b&gt; - сигнатура входящих данных, представлена в виде набора скаляров, идентификаторов сущностей, флагов.&amp;nbsp;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-601" y="510" width="480" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-94" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;ServiceInterface&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="461" y="891" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-97" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;RepositoryInterface&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1125" y="1143" width="180" height="31" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-100" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;GatewayInterface&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1320" y="1143" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-102" value="&lt;b style=&quot;font-size: 21px;&quot;&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Input contract,&lt;/font&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;font-size: 21px;&quot;&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;entry point signature&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-601" y="240" width="461" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-112" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Entity/Aggregate&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="530" y="1181" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-114" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Entity/Aggregate&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1113" y="1310" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-116" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Entity/Aggregate&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1307" y="1312" width="200" height="24" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-118" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1112" y="1646" width="198" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-121" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1312" y="1440" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-123" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RequestBuilderInterface&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1320" y="1407" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.494;exitY=0.999;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-150" target="ASpnVdTM-ZzIxTWut1nu-147">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1411" y="1600" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1411" y="1600" />
              <mxPoint x="1411" y="1600" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-124" value="&lt;h1 style=&quot;font-size: 19px;&quot;&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;RequestBuilder&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/h1&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Подготовка запроса.&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Подготовка целевого контейнера с данными для сериализации и передачи по сети.&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1317" y="1443" width="198" height="127" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-138" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1112" y="1410" width="202" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-139" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1112" y="1440" width="202" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-140" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;NormalizerInterface&lt;/b&gt;&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1122" y="1407" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.505;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.493;exitY=1.002;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-152" target="ASpnVdTM-ZzIxTWut1nu-118">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1211" y="1600" as="sourcePoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-141" value="&lt;h1 style=&quot;font-size: 19px;&quot;&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;ObjectNormalizer&lt;/font&gt;&lt;/h1&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Нормализация данных.&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Перевод данных на уровень ниже, которое принимает хранилище.&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1119" y="1443" width="193" height="127" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-147" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1312" y="1660" width="198" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-178" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;exitX=0.079;exitY=0.773;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.766;entryY=1.003;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-185" target="ASpnVdTM-ZzIxTWut1nu-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="861" as="targetPoint" />
            <mxPoint x="1110" y="1850" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="240" y="1880" />
              <mxPoint x="240" y="860" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-155" value="" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1110" y="1690" width="198" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-119" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Storage&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1132.5" y="1770" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-156" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;DBALInterface&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1183" y="1663" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-179" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;exitX=0.5;exitY=0.996;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ASpnVdTM-ZzIxTWut1nu-187">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="860" as="targetPoint" />
            <mxPoint x="1412" y="1920" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1412" y="2000" />
              <mxPoint x="120" y="2000" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-157" value="" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1313" y="1691" width="198" height="189" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-148" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Network&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1335.5" y="1770" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-158" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Client&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1380" y="1664" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-160" value="" style="shape=link;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="460" y="1030" as="sourcePoint" />
            <mxPoint x="820" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-161" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="921" y="1212" width="200" height="128" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-162" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="921" y="1140" width="200" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-163" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="921" y="1171" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-164" value="&lt;h1&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Library&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;b&gt;Инфраструктурный слой.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Технический код (тонкости реализации)&lt;/b&gt;: может быть завязан на фреймворке, внешних библиотеках и т.п.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="931" y="1170" width="190" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-165" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;LibraryInterface&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="934" y="1143" width="180" height="31" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-166" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;Entity/Aggregate&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="922" y="1310" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-170" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Array/Map/JSON&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1321" y="1573" width="182" height="18" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-175" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;D&lt;br&gt;T&lt;br&gt;O&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="29" y="569" width="60" height="250" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-177" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;D&lt;br&gt;T&lt;br&gt;O&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="279" y="569" width="60" height="250" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-183" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="129" y="1891" width="530" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-184" value="&lt;h1&gt;Response: &lt;font style=&quot;font-size: 19px;&quot;&gt;climbs the call stack&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;Таким образом представлен &lt;b&gt;ответ&lt;/b&gt;, т.е. результат выполнения возвращается в точку входа по стеку вызова, repository и gateway ничего не знают о &lt;b&gt;controller-е&lt;/b&gt;, &lt;b&gt;command-е&lt;/b&gt; и &lt;b&gt;handler-е/consumer-е&lt;/b&gt;.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="134" y="1887" width="530" height="101" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-186" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;&lt;span&gt;Entity, scalar&lt;/span&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1140" y="1878" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ASpnVdTM-ZzIxTWut1nu-188" value="&lt;span style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Array/DTO&lt;/b&gt;&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1342" y="1880" width="140" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
